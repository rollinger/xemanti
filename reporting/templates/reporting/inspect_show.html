{% extends "xemanti/base.html" %}
{% load i18n %}
{% load reporting_tags %}

{% block metadata %}
	{% if ngram %}
	
		<title> Xemanti - Eintrag für: {{ ngram }}</title>
		<meta content="Xemanti - Sprachtools für deine Texte. {{ ngram }} wurde assoziiert mit: {{ ngram.get_all_association_token|join:" " }}" name="description"></meta>
		<meta content="sprachtools,sprachtool,assoziation,text,texten,rhetorik,kommunikation,bedeutung,synonym,antonym,wörterbuch" name="keywords"></meta>
	{% else %}
		{% load seo %}
  		{% get_metadata SiteMetadata %}
  	{% endif %}	
{% endblock metadata %}


{% block custom-js %}
<script type="text/javascript">
	$(function() {
		$( "#accordion" ).accordion();
	});
</script>
{% endblock custom-js %}


{% block main-content %}

{% if ngram %}
<div id="left-content" class="unit-70">
{% else %}
<div id="left-content" class="unit-100">
{% endif %}

	<div class="units-row">
		<div class="unit-centered unit-90">
			<!-- <h4 class="border-bottom">{% trans "Inspect a Word:" %}</h4> -->
			<form action="." method="POST" data-ajax="false">
			{% csrf_token %}
			{% for field in form.visible_fields %}
	    		<div class="units-row">
					<div class="unit-centered unit-40 ui-widget">
						 {{ field }}
					</div>
					<div class="unit-100 supersmall">
						{{ field.help_text }}
					</div>
				</div>
			{% endfor %}
			{% for hidden in form.hidden_fields %} 
				{{ hidden }} 
			{% endfor %}
			<div class="units-row">
				<div class="unit-centered unit-40 ">
					<center><input class="" id="rate" type="submit" name="rate" value='{% trans "Inspect" %}' /></center>
				</div>
			</div>
		</form>
		</div>
	</div>

	{% if ngram %}
		<div class="units-row">
			<div class="unit-centered unit-90 border-bottom">
				<center><h2>
					<a href="{% url 'sort_ngram' ngram.token %}">
						{{ ngram.token }}
					</a>
				</h2></center>
			</div>
		</div>
		
		<div id="accordion">
			<h3 class="btn">{% trans "Associations"%} ({{ngram.association_outbound.count}})</h3>
			<div>
				{% for assoc in ngram.association_outbound.all %}
					<a href="{% url 'inspect_query' assoc.target.token %}" style="font-size:{{assoc.power|power_to_font_size}}em;margin-right:5px;" title="{{ assoc.power|floatformat:2 }}">
						{{ assoc.target }}
					</a>
				{% endfor %}
			</div>
			<h3 class="btn">{% trans "Synonyms"%} ({{ngram.synonyms.count}})</h3>
			<div>
				{% for synonym in ngram.synonyms.all %}
					<a href="{% url 'inspect_query' synonym.target.token %}" style="font-size:{{synonym.power|power_to_font_size}}em;margin-right:5px;" title="{{ synonym.power|floatformat:2 }}">
						{{ synonym.target }}
					</a>&nbsp;&nbsp;&nbsp;
				{% endfor %}
			</div>
			<h3 class="btn">{% trans "Antonyms"%} ({{ngram.antonyms.count}})</h3>
			<div >
				{% for antonym in ngram.antonyms.all %}
					<a href="{% url 'inspect_query' antonym.target.token %}" style="font-size:{{antonym.power|power_to_font_size}}em;margin-right:5px;" title="{{ antonym.power|floatformat:2 }}">
						{{ antonym.target }}
					</a>&nbsp;&nbsp;&nbsp;
				{% endfor %}
			</div>
			<h3 class="btn">{% trans "Super Categories"%} ({{ngram.supercategories.count}})</h3>
			<div >
				{% for super in ngram.supercategories.all %}
					<a href="{% url 'inspect_query' super.target.token %}" style="font-size:{{super.power|power_to_font_size}}em;margin-right:5px;" title="{{ super.power|floatformat:2 }}">
						{{ super.target }}
					</a>&nbsp;&nbsp;&nbsp;
				{% endfor %}
			</div>
			<h3 class="btn">{% trans "Sub Categories"%} ({{ngram.subcategories.count}})</h3>
			<div >
				{% for sub in ngram.subcategories.all %}
					<a href="{% url 'inspect_query' sub.target.token %}" style="font-size:{{sub.power|power_to_font_size}}em;margin-right:5px;" title="{{ sub.power|floatformat:2 }}">
						{{ sub.target }}
					</a>&nbsp;&nbsp;&nbsp;
				{% endfor %}
			</div>
			{% if user.is_superuser %}
				<h3 class="btn">{% trans "Co-Occurrences"%} ({{ngram.coocurrence_outbound.count}})</h3>
				<div >
					{% for cooc in ngram.coocurrence_outbound.all %}
						<a href="{% url 'inspect_query' cooc.target.token %}" style="font-size:{{cooc.power|power_to_font_size}}em;margin-right:5px;" title="{{ cooc.power|floatformat:2 }}">
							{{ cooc.target }}
						</a>&nbsp;&nbsp;&nbsp;
					{% endfor %}
				</div>
			{% endif %}
		</div>
	{% endif %}

</div>

{% if ngram %}
<div id="right-sidebar" class="unit-30">

	<div class="units-row">
		<div class="unit-50">{% trans "Frequency: "%}</div>
		<div class="unit-50 label label-blue"><center>{{ngram.occurrence_frequency_tag}}</center></div>
	</div>
	<div class="units-row">
		<div class="unit-50">{% trans "Rated: "%}</div>
		<div class="unit-50 label label-blue"><center>{{ngram.rating_frequency_tag}}</center></div>
	</div>
	<div class="units-row">
		<div class="unit-50">{% trans "Genus: "%}</div>
		<div class="unit-50 label label-blue"><center>{{ngram.genus}}</center></div>
	</div>
	<div class="units-row">
		<div class="unit-50">{% trans "Numerus: "%}</div>
		<div class="unit-50 label label-blue"><center>{{ngram.numerus}}</center></div>
	</div>
	<div class="units-row">
		<div class="unit-50">{% trans "Part of Speech: "%}</div>
		{% for pos in ngram.partofspeech.all %}
			<div class="unit-50 label label-blue"><center>{{pos}}</center></div>
		{% endfor %}
	</div>
	<div class="units-row">
		<div class="unit-50">{% trans "Languages: "%}</div>
		{% for lang in ngram.language.all %}
			<div class="unit-50 label label-blue"><center>{{lang}}</center></div>
		{% endfor %}
	</div>
</div>
{% endif %}

{% endblock main-content %}


